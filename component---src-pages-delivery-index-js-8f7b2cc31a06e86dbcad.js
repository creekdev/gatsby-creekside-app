"use strict";(self.webpackChunkcreekside_logistics_app=self.webpackChunkcreekside_logistics_app||[]).push([[858],{9811:function(e,t,n){var r=n(5318);t.Z=void 0;var a=r(n(2174)),i=n(5893),o=(0,a.default)((0,i.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}),"GpsFixed");t.Z=o},7321:function(e,t,n){var r=n(5318);t.Z=void 0;var a=r(n(2174)),i=n(5893),o=(0,a.default)((0,i.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.Z=o},1569:function(e,t,n){var r=n(5318);t.Z=void 0;var a=r(n(2174)),i=n(5893),o=(0,a.default)((0,i.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.Z=o},5400:function(e,t,n){var r=n(5318);t.Z=void 0;var a=r(n(2174)),i=n(5893),o=(0,a.default)([(0,i.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,i.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,i.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-3.5c.73 0 1.39.19 1.97.53.12-.14.86-.98 1.01-1.14-.85-.56-1.87-.89-2.98-.89-1.11 0-2.13.33-2.99.88.97 1.09.01.02 1.01 1.14.59-.33 1.25-.52 1.98-.52z"},"2")],"SentimentDissatisfied");t.Z=o},8526:function(e,t,n){var r=n(5318);t.Z=void 0;var a=r(n(2174)),i=n(5893),o=(0,a.default)([(0,i.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,i.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,i.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-4c-.73 0-1.38-.18-1.96-.52-.12.14-.86.98-1.01 1.15.86.55 1.87.87 2.97.87 1.11 0 2.12-.33 2.98-.88-.97-1.09-.01-.02-1.01-1.15-.59.35-1.24.53-1.97.53z"},"2")],"SentimentSatisfied");t.Z=o},7643:function(e,t,n){var r=n(5318);t.Z=void 0;var a=r(n(2174)),i=n(5893),o=(0,a.default)([(0,i.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,i.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,i.jsx)("path",{d:"M12 16c-1.48 0-2.75-.81-3.45-2H6.88c.8 2.05 2.79 3.5 5.12 3.5s4.32-1.45 5.12-3.5h-1.67c-.69 1.19-1.97 2-3.45 2zm-.01-14C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},"2")],"SentimentSatisfiedAltOutlined");t.Z=o},5392:function(e,t,n){var r=n(5318);t.Z=void 0;var a=r(n(2174)),i=n(5893),o=(0,a.default)([(0,i.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,i.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,i.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z"},"2")],"SentimentVeryDissatisfied");t.Z=o},1356:function(e,t,n){var r=n(5318);t.Z=void 0;var a=r(n(2174)),i=n(5893),o=(0,a.default)([(0,i.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,i.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,i.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-5-6c.78 2.34 2.72 4 5 4s4.22-1.66 5-4H7z"},"2")],"SentimentVerySatisfied");t.Z=o},9936:function(e,t,n){var r=n(5318);t.Z=void 0;var a=r(n(2174)),i=n(5893),o=(0,a.default)((0,i.jsx)("path",{d:"M11 8v5l4.25 2.52.77-1.28-3.52-2.09V8H11zm10 2V3l-2.64 2.64C16.74 4.01 14.49 3 12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9h-2c0 3.86-3.14 7-7 7s-7-3.14-7-7 3.14-7 7-7c1.93 0 3.68.79 4.95 2.05L14 10h7z"}),"UpdateOutlined");t.Z=o},5497:function(e,t,n){var r=n(7462),a=n(3366),i=n(7294),o=n(5505),l=n(600),c=n(9308),s=n(8348),u=n(184),d=n(4193),m=n(9463),v=n(5893),p=["className","id"],f=(0,s.ZP)(c.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),h=i.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiDialogTitle"}),c=n.className,s=n.id,h=(0,a.Z)(n,p),Z=n,y=function(e){var t=e.classes;return(0,l.Z)({root:["root"]},d.a,t)}(Z),x=i.useContext(m.Z).titleId,g=void 0===x?s:x;return(0,v.jsx)(f,(0,r.Z)({component:"h2",className:(0,o.Z)(y.root,c),ownerState:Z,ref:t,variant:"h6",id:g},h))}));t.Z=h},1437:function(e,t,n){var r=n(5318);t.Z=function(e){if("string"!=typeof e)throw new Error((0,a.default)(7));return e.charAt(0).toUpperCase()+e.slice(1)};var a=r(n(7966))},7966:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}},1173:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ye}});var r=n(5861),a=n(3366),i=n(7757),o=n.n(i),l=n(7294),c=n(2778),s=n(9308),u=n(9885),d=n(5985),m=n(7417),v=n(9644),p=n(2077),f=n(171),h=n(4382),Z=n(2483),y=n(6449),x=n(2840),g=n(5858),E=n(5935),C=n(7951),b=n(4702),w=n(1437),S=n(8905),z=n(9811),M=n(1569),k=n(7321),j=n(2153),F=n(4743),R=n(6684),V=n(9609),A=n(6633),L=n.n(A),O=n(8037),H=n(4442),P=n(1202),I=n(8599),T=n(6763),N=n(460),_=n(5497),D=n(6968),B=n(3320),U=n(885),G=n(4942),X=n(7462),W=(n(5697),n(5505)),Y={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},q=n(600),J=n(9240),K=n(2152),Q=n(2583),$=n(93),ee=n(5973),te=n(5833),ne=n(5893),re=(0,te.Z)((0,ne.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),ae=(0,te.Z)((0,ne.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder"),ie=n(184),oe=n(8348),le=n(2717);function ce(e){return(0,le.Z)("MuiRating",e)}var se=(0,n(5495).Z)("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),ue=["value"],de=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function me(e,t){if(null==e)return e;var n,r=Math.round(e/t)*t;return Number(r.toFixed((n=t.toString().split(".")[1])?n.length:0))}var ve=(0,oe.ZP)("span",{name:"MuiRating",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,G.Z)({},"& .".concat(se.visuallyHidden),t.visuallyHidden),t.root,t["size".concat((0,J.Z)(n.size))],n.readOnly&&t.readOnly]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,X.Z)((t={display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent"},(0,G.Z)(t,"&.".concat(se.disabled),{opacity:n.palette.action.disabledOpacity,pointerEvents:"none"}),(0,G.Z)(t,"&.".concat(se.focusVisible," .").concat(se.iconActive),{outline:"1px solid #999"}),(0,G.Z)(t,"& .".concat(se.visuallyHidden),Y),t),"small"===r.size&&{fontSize:n.typography.pxToRem(18)},"large"===r.size&&{fontSize:n.typography.pxToRem(30)},r.readOnly&&{pointerEvents:"none"})})),pe=(0,oe.ZP)("label",{name:"MuiRating",slot:"Label",overridesResolver:function(e,t){return t.label}})((function(e){var t=e.ownerState;return(0,X.Z)({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})})),fe=(0,oe.ZP)("span",{name:"MuiRating",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})((function(e){var t=e.theme,n=e.ownerState;return(0,X.Z)({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},n.iconActive&&{transform:"scale(1.2)"},n.iconEmpty&&{color:t.palette.action.disabled})})),he=(0,oe.ZP)("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:function(e){return(0,oe.Dz)(e)&&"iconActive"!==e},overridesResolver:function(e,t){var n=e.iconActive;return[t.decimal,n&&t.iconActive]}})((function(e){var t=e.iconActive;return(0,X.Z)({position:"relative"},t&&{transform:"scale(1.2)"})}));function Ze(e){var t=(0,a.Z)(e,ue);return(0,ne.jsx)("span",(0,X.Z)({},t))}function ye(e){var t=e.classes,n=e.disabled,r=e.emptyIcon,a=e.focus,i=e.getLabelText,o=e.highlightSelectedOnly,c=e.hover,s=e.icon,u=e.IconContainerComponent,d=e.isActive,m=e.itemValue,v=e.labelProps,p=e.name,f=e.onBlur,h=e.onChange,Z=e.onClick,y=e.onFocus,x=e.readOnly,g=e.ownerState,E=e.ratingValue,C=o?m===E:m<=E,b=m<=c,w=m<=a,S=m===e.ratingValueRounded,z=(0,K.Z)(),M=(0,ne.jsx)(fe,{as:u,value:m,className:(0,W.Z)(t.icon,C?t.iconFilled:t.iconEmpty,b&&t.iconHover,w&&t.iconFocus,d&&t.iconActive),ownerState:(0,X.Z)({},g,{iconEmpty:!C,iconFilled:C,iconHover:b,iconFocus:w,iconActive:d}),children:r&&!C?r:s});return x?(0,ne.jsx)("span",(0,X.Z)({},v,{children:M})):(0,ne.jsxs)(l.Fragment,{children:[(0,ne.jsxs)(pe,(0,X.Z)({ownerState:(0,X.Z)({},g,{emptyValueFocused:void 0}),htmlFor:z},v,{children:[M,(0,ne.jsx)("span",{className:t.visuallyHidden,children:i(m)})]})),(0,ne.jsx)("input",{className:t.visuallyHidden,onFocus:y,onBlur:f,onChange:h,onClick:Z,disabled:n,value:m,id:z,type:"radio",name:p,checked:S})]})}var xe=(0,ne.jsx)(re,{fontSize:"inherit"}),ge=(0,ne.jsx)(ae,{fontSize:"inherit"});function Ee(e){return"".concat(e," Star").concat(1!==e?"s":"")}var Ce=l.forwardRef((function(e,t){var n=(0,ie.Z)({name:"MuiRating",props:e}),r=n.className,i=n.defaultValue,o=void 0===i?null:i,c=n.disabled,s=void 0!==c&&c,u=n.emptyIcon,d=void 0===u?ge:u,m=n.emptyLabelText,v=void 0===m?"Empty":m,p=n.getLabelText,f=void 0===p?Ee:p,h=n.highlightSelectedOnly,Z=void 0!==h&&h,x=n.icon,g=void 0===x?xe:x,E=n.IconContainerComponent,C=void 0===E?Ze:E,b=n.max,w=void 0===b?5:b,S=n.name,z=n.onChange,M=n.onChangeActive,k=n.onMouseLeave,j=n.onMouseMove,F=n.precision,R=void 0===F?1:F,V=n.readOnly,A=void 0!==V&&V,L=n.size,O=void 0===L?"medium":L,H=n.value,P=(0,a.Z)(n,de),I=(0,K.Z)(S),T=(0,Q.Z)({controlled:H,default:o,name:"Rating"}),N=(0,U.Z)(T,2),_=N[0],D=N[1],B=me(_,R),G=(0,y.Z)(),Y=l.useState({hover:-1,focus:-1}),te=(0,U.Z)(Y,2),re=te[0],ae=re.hover,oe=re.focus,le=te[1],se=B;-1!==ae&&(se=ae),-1!==oe&&(se=oe);var ue=(0,$.Z)(),fe=ue.isFocusVisibleRef,Ce=ue.onBlur,be=ue.onFocus,we=ue.ref,Se=l.useState(!1),ze=(0,U.Z)(Se,2),Me=ze[0],ke=ze[1],je=l.useRef(),Fe=(0,ee.Z)(we,je),Re=(0,ee.Z)(Fe,t),Ve=function(e){var t=""===e.target.value?null:parseFloat(e.target.value);-1!==ae&&(t=ae),D(t),z&&z(e,t)},Ae=function(e){0===e.clientX&&0===e.clientY||(le({hover:-1,focus:-1}),D(null),z&&parseFloat(e.target.value)===B&&z(e,null))},Le=function(e){be(e),!0===fe.current&&ke(!0);var t=parseFloat(e.target.value);le((function(e){return{hover:e.hover,focus:t}}))},Oe=function(e){if(-1===ae){Ce(e),!1===fe.current&&ke(!1);le((function(e){return{hover:e.hover,focus:-1}}))}},He=l.useState(!1),Pe=(0,U.Z)(He,2),Ie=Pe[0],Te=Pe[1],Ne=(0,X.Z)({},n,{defaultValue:o,disabled:s,emptyIcon:d,emptyLabelText:v,emptyValueFocused:Ie,focusVisible:Me,getLabelText:f,icon:g,IconContainerComponent:C,max:w,precision:R,readOnly:A,size:O}),_e=function(e){var t=e.classes,n=e.size,r=e.readOnly,a=e.disabled,i=e.emptyValueFocused,o=e.focusVisible,l={root:["root","size".concat((0,J.Z)(n)),a&&"disabled",o&&"focusVisible",r&&"readyOnly"],label:["label","pristine"],labelEmptyValue:[i&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return(0,q.Z)(l,ce,t)}(Ne);return(0,ne.jsxs)(ve,(0,X.Z)({ref:Re,onMouseMove:function(e){j&&j(e);var t,n=je.current,r=n.getBoundingClientRect(),a=r.right,i=r.left,o=n.firstChild.getBoundingClientRect().width;t="rtl"===G.direction?(a-e.clientX)/(o*w):(e.clientX-i)/(o*w);var l=me(w*t+R/2,R);l=function(e,t,n){return e<t?t:e>n?n:e}(l,R,w),le((function(e){return e.hover===l&&e.focus===l?e:{hover:l,focus:l}})),ke(!1),M&&ae!==l&&M(e,l)},onMouseLeave:function(e){k&&k(e);le({hover:-1,focus:-1}),M&&-1!==ae&&M(e,-1)},className:(0,W.Z)(_e.root,r),ownerState:Ne,role:A?"img":null,"aria-label":A?f(se):null},P,{children:[Array.from(new Array(w)).map((function(e,t){var n=t+1,r={classes:_e,disabled:s,emptyIcon:d,focus:oe,getLabelText:f,highlightSelectedOnly:Z,hover:ae,icon:g,IconContainerComponent:C,name:I,onBlur:Oe,onChange:Ve,onClick:Ae,onFocus:Le,ratingValue:se,ratingValueRounded:B,readOnly:A,ownerState:Ne},a=n===Math.ceil(se)&&(-1!==ae||-1!==oe);if(R<1){var i=Array.from(new Array(1/R));return(0,ne.jsx)(he,{className:(0,W.Z)(_e.decimal,a&&_e.iconActive),ownerState:Ne,iconActive:a,children:i.map((function(e,t){var a=me(n-1+(t+1)*R,R);return(0,ne.jsx)(ye,(0,X.Z)({},r,{isActive:!1,itemValue:a,labelProps:{style:i.length-1===t?{}:{width:a===se?"".concat((t+1)*R*100,"%"):"0%",overflow:"hidden",position:"absolute"}}}),a)}))},n)}return(0,ne.jsx)(ye,(0,X.Z)({},r,{isActive:a,itemValue:n}),n)})),!A&&!s&&(0,ne.jsxs)(pe,{className:(0,W.Z)(_e.label,_e.labelEmptyValue),ownerState:Ne,children:[(0,ne.jsx)("input",{className:_e.visuallyHidden,value:"",id:"".concat(I,"-empty"),type:"radio",name:I,checked:null==B,onFocus:function(){return Te(!0)},onBlur:function(){return Te(!1)},onChange:Ve}),(0,ne.jsx)("span",{className:_e.visuallyHidden,children:v})]})]}))})),be=n(5392),we=n(5400),Se=n(8526),ze=n(7643),Me=n(1356),ke=n(5167),je=n(9936),Fe=["value"],Re={1:{icon:l.createElement(be.Z,null),label:"Very Dissatisfied"},2:{icon:l.createElement(we.Z,null),label:"Dissatisfied"},3:{icon:l.createElement(Se.Z,null),label:"Neutral"},4:{icon:l.createElement(ze.Z,null),label:"Satisfied"},5:{icon:l.createElement(Me.Z,null),label:"Very Satisfied"}};function Ve(e){var t=e.value,n=(0,a.Z)(e,Fe);return l.createElement("span",n,Re[t].icon)}function Ae(e){var t=e.handleChange,n=l.useState(null),r=n[0],a=n[1];return l.useEffect((function(){"function"==typeof t&&t(r)}),[r,t]),l.createElement(Ce,{name:"review-rating",value:r,onChange:function(e,t){a(t)},IconContainerComponent:Ve,highlightSelectedOnly:!0})}var Le=function(e){var t=e.open,n=e.onClose,a=e.id,i=l.useContext(ke.Z).showMessage,c=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=3;break}throw Error();case 3:return e.next=5,L().post("/api/delivery/cancel/"+a);case 5:i("success","Order cancelled successfully"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i("error","Could not cancel this order");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return l.createElement(P.Z,{open:t,onClose:n},l.createElement(_.Z,null,"Cancel"),l.createElement(T.Z,null,l.createElement(N.Z,null,"Are you sure you would like to cancel this delivery?")),l.createElement(I.Z,null,l.createElement(D.Z,{onClick:function(){c(),n()}},"Yes"),l.createElement(D.Z,{onClick:n},"No")))},Oe=function(e){var t=e.track,n=e.open,r=e.handleClose;return l.createElement(P.Z,{open:n,onClose:r,scroll:"paper"},l.createElement(_.Z,null,"Track Delivery"),l.createElement(v.Z,{sx:{width:400}},t.map((function(e,t){var n=e.action,r=e.timestamp;return l.createElement(p.ZP,{key:t},l.createElement(je.Z,{sx:{mr:2,color:"text.secondary"}}),l.createElement(f.Z,{primary:n}),r&&l.createElement(s.Z,{variant:"caption",color:"text.secondary"},l.createElement(b.Z,{date:r})))}))),l.createElement(I.Z,null,l.createElement(D.Z,{onClick:r},"Close")))},He=function(e){var t=e.open,n=e.onClose,a=e.id,i=l.useContext(ke.Z).showMessage,c=l.useState(""),s=c[0],u=c[1],d=l.useState(null),m=d[0],v=d[1],p=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=3;break}throw Error();case 3:return e.next=5,L()({method:"post",url:"/api/delivery/review/"+a,data:{rating:m,remark:s}});case 5:u(""),v(null),i("success","Order reviewed successfully"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),i("error","Could not review this order");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return l.createElement(P.Z,{open:t,onClose:n},l.createElement(_.Z,null,"Review"),l.createElement(T.Z,null,l.createElement(N.Z,null,"Please give an honest review and rating on our service"),l.createElement(B.Z,{value:s,onChange:function(e){u(e.target.value)},fullWidth:!0})),l.createElement(C.Z,{width:1,display:"flex",alignItem:"center",justifyContent:"center"},l.createElement(Ae,{handleChange:function(e){return v(e)}})),l.createElement(I.Z,null,l.createElement(D.Z,{disabled:!m||!s,onClick:function(){p(),n()}},"Submit"),l.createElement(D.Z,{onClick:n},"Cancel")))},Pe=function(e){var t=e.open,n=e.handleClose,r=e.delivery,a=l.useState(!1),i=a[0],o=a[1],c=l.useState(!1),s=c[0],u=c[1],d=l.useState(!1),m=d[0],h=d[1],Z=r._id,y=r.status&&"Cancelled"===r.status,x=r.driver&&r.driver.phone,g=r.track,E=g&&g.map&&!!g.length,C=["Cancelled","Delivered"].includes(r.status);return l.createElement(l.Fragment,null,l.createElement(P.Z,{open:t,onClose:n},l.createElement(_.Z,null,"Options"),l.createElement(v.Z,{sx:{width:400}},x&&l.createElement(p.ZP,{onClick:n,button:!0,component:"a",href:"tel:"+x},l.createElement(f.Z,{primary:"Call driver"})),E&&l.createElement(p.ZP,{button:!0,onClick:function(){n(),u(!0)}},l.createElement(f.Z,{primary:"Track delivery"})),C&&l.createElement(p.ZP,{button:!0,onClick:function(){n(),h(!0)}},l.createElement(f.Z,{primary:"Review"})),!1===y&&l.createElement(p.ZP,{button:!0,onClick:function(){n(),o(!0)}},l.createElement(f.Z,{primary:"Cancel order"})))),l.createElement(Le,{id:Z,driverPhone:x,open:i,onClose:function(){return o(!1)}}),C&&l.createElement(He,{id:Z,driverPhone:x,canReview:C,open:m,onClose:function(){return h(!1)}}),E&&l.createElement(Oe,{open:s,handleClose:function(){return u(!1)},track:g}))},Ie=n(3774),Te=n(581),Ne=["children","value","index"],_e=function(e){var t=e._id,n=e.locations,r=e.distance,a=e.price,i=e.timestamp,o=e.status,c=function(e){var t=e.text;return l.createElement(s.Z,{variant:"body2",color:"text.secondary"},t)},u=function(e){var t=e.text,n=e.variant;return l.createElement(s.Z,{variant:n||"subtitle1",color:"text.primary"},t)};return l.createElement(v.Z,{dense:!0},l.createElement(p.ZP,null,l.createElement(f.Z,{primary:l.createElement(h.Z,{direction:"row",spacing:2,mb:1,alignItems:"flex-end"},l.createElement(c,{text:"Delivery ID"}),l.createElement(d.Z,{color:"primary",size:"small",label:(0,w.Z)(o)})),secondary:t&&l.createElement(u,{variant:"h6",text:("CSL-"+t).toUpperCase()})}),l.createElement(s.Z,{variant:"caption",color:"text.secondary"},i&&l.createElement(b.Z,{timeStyle:"twitter",date:i}))),l.createElement(p.ZP,null,l.createElement(f.Z,{primary:l.createElement(c,{text:"From"}),secondary:l.createElement(u,{text:n&&n.map&&n.length>0&&n[0].address})})),l.createElement(m.Z,{textAlign:"right"},l.createElement(s.Z,{variant:"subtitle1",color:"primary.text"},(0,F.Z)(a)),l.createElement(d.Z,{size:"small",label:r})),l.createElement(p.ZP,null,l.createElement(f.Z,{primary:l.createElement(c,{text:"To"}),secondary:l.createElement(u,{text:n&&n.map&&n.length>0&&n[n.length-1].address})})))},De=function(e){var t=e.driver,n=e.mode,r=(0,j.Z)(n),a=t||{},i=a.name,o=a.phone,c=a.photoUrl;return t?l.createElement(C.Z,{px:2},l.createElement(s.Z,{variant:"body2",color:"text.secondary",gutterBottom:!0},"Rider Information"),l.createElement(h.Z,{mt:2,spacing:2,direction:"row",alignItems:"center"},l.createElement(Z.Z,{alt:i,src:c,sx:{width:70,height:70}}),l.createElement(C.Z,{flexGrow:1},l.createElement(s.Z,{variant:"subtitle1",color:"text.primary"},i),l.createElement(s.Z,{component:"a",href:"tel:"+t.phone,sx:{textDecoration:"none"},variant:"body2",color:"text.secondary"},o)),l.createElement(r,{sx:{color:"primary.light"}}))):l.createElement(C.Z,{px:2},l.createElement(s.Z,{variant:"body2",color:"text.secondary",gutterBottom:!0},"Rider Information"),l.createElement(h.Z,{mt:2,spacing:2,direction:"row",alignItems:"center"},l.createElement(Z.Z,{sx:{width:70,height:70,bgcolor:"divider",fontSize:45}},l.createElement(M.Z,null)),l.createElement(C.Z,{flexGrow:1},l.createElement(s.Z,{variant:"subtitle1",color:"text.primary"},"Not assigned")),l.createElement(r,{sx:{color:"primary.light"}})))},Be=function(e){var t=e.text,n="string"==typeof t&&""!==t?t:"No note";return l.createElement(C.Z,{px:2},l.createElement(s.Z,{variant:"body2",color:"text.secondary",gutterBottom:!0},"Note"),l.createElement(s.Z,{variant:"body1",color:"text.primary"},n))};function Ue(e){var t=e.children,n=e.value,r=e.index,i=(0,a.Z)(e,Ne);return n!==r?null:l.createElement(h.Z,Object.assign({flexGrow:2,spacing:2,hidden:n!==r},i),n===r&&t)}var Ge=[z.Z,M.Z],Xe=function(e){var t=e.panels,n=e.actionList,r=l.useState(0),a=r[0],i=r[1];return l.createElement(C.Z,{sx:{display:"flex",flexGrow:1,height:270}},l.createElement(g.Z,{orientation:"vertical",variant:"scrollable",value:a,onChange:function(e,t){if(n&&n.map){var r=!1;if(n.map((function(e){var n=e.index,a=e.handleClick;return n===t&&(console.log(n,t),r=!0,"function"==typeof a&&a()),""})),r)return}i(t)},"aria-label":"Vertical tabs example"},t.map((function(e,t){var n=Ge[t];return l.createElement(E.Z,{icon:l.createElement(n,null)})})),l.createElement(E.Z,{icon:l.createElement(k.Z,null)})),t.map((function(e,t){return l.createElement(Ue,{value:a,index:t,key:t},e)})))},We=function(){var e=(0,r.Z)(o().mark((function e(t,n,r,a,i){var l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=3;break}return t("This delivery is not available"),e.abrupt("return");case 3:return t(""),n(!0),e.prev=5,e.next=8,L().get("/api/delivery/"+i);case 8:l=e.sent,r.current&&a(l.data),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0),t("This delivery is not available");case 16:n(!1);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),Ye=function(e){var t=e.location,n=new URLSearchParams(t.search).get("q");n||"undefined"==typeof window||(0,O.c4)("/delivery/history");var r=(0,y.Z)(),a=(0,x.Z)(r.breakpoints.down("md")),i=l.useState(!1),o=i[0],s=i[1],d=l.useState(!0),m=d[0],v=d[1],p=l.useState(""),f=p[0],Z=p[1],g=l.useState({}),E=g[0],C=g[1],b=l.useState({width:0,height:0}),w=b[0],z=b[1],M=l.useContext(H.Z).socket,j=l.useContext(Ie.Z).user,F=l.useRef();l.useEffect((function(){M&&M.on("EditDelivery",(function(e){E._id&&E._id===e._id&&C(e)}))}),[M,E._id]);var A=(0,R.Z)(),L=l.useState({center:{lat:4.8156,lng:7.0498},zoom:10}),P=L[0],I=L[1];l.useEffect((function(){z(a?{width:A.width,height:A.height-325}:{width:A.width-400,height:A.height})}),[A,a,z]),F.current=!0,l.useEffect((function(){return j.user&&We(Z,v,F,C,n),function(){F.current=!1}}),[j.user]);var T=E._id,N=E.locations,_=E.to,D=E.from,B=E.distance,U=E.price,G=E.dateCreated,X=E.driver,W=E.mode,Y=E.note,q=E.status,J=N||D&&_&&[D,_]||[],K=function(e){return e.latitude&&e.longitude};l.useEffect((function(){if(J&&J.map&&J.length)if(K(J[0])&&K(J[1])){var e={ne:{lat:Math.max(J[0].latitude,J[1].latitude),lng:Math.max(J[0].longitude,J[1].longitude)},sw:{lat:Math.min(J[0].latitude,J[1].latitude),lng:Math.min(J[0].longitude,J[1].longitude)}};I((0,S.Xg)(e,w))}else K(J[0])&&!K(J[1])?I({center:{lat:J[0].latitude,lng:J[0].longitude},zoom:16}):!K(J[0])&&K(J[1])&&I({center:{lat:J[1].latitude,lng:J[1].longitude},zoom:16})}),[E,m]);var Q=J.map((function(e,t){var n=e.longitude,r=e.latitude;return n&&r&&l.createElement(V.Z,{key:t,lat:r,lng:n,color:0===t?"secondary.light":"primary.light"})})),$=l.createElement(Te.Z,{onClick:function(){return s(!0)}},l.createElement(k.Z,null));return l.createElement(c.Z,{location:t},l.createElement(u.Z,{pageTitle:"Delivery details",mapChildren:Q,mapProps:P,loading:m,error:f,more:E._id&&$},l.createElement(h.Z,{spacing:{xs:2,md:8},pt:4,px:{xs:2,lg:4}},a?l.createElement(Xe,{actionList:[{index:2,handleClick:function(){s(!0)}}],panels:[l.createElement(_e,{key:0,_id:T,locations:J,distance:B,price:U,timestamp:G,status:q}),l.createElement(l.Fragment,{key:1},l.createElement(De,{driver:X,mode:W,note:Y}),l.createElement(Be,{text:Y}))]}):l.createElement(l.Fragment,null,l.createElement(_e,{_id:T,locations:J,distance:B,price:U,timestamp:G,status:q,from:D,to:_}),l.createElement(De,{driver:X,mode:W,note:Y}),l.createElement(Be,{text:Y})))),l.createElement(Pe,{delivery:E,open:o,handleClose:function(){s(!1)}}))}}}]);
//# sourceMappingURL=component---src-pages-delivery-index-js-8f7b2cc31a06e86dbcad.js.map